<Window x:Class="MP3_Player.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:MP3_Player"
        Title="Music Player" Height="800" Width="1200" ResizeMode="CanResize" 
        AllowsTransparency="True" WindowStartupLocation="CenterScreen" 
        WindowStyle="None" Background="Transparent">

    <Window.Effect>
        <DropShadowEffect BlurRadius="20" ShadowDepth="0" Color="#40000000" Opacity="0.3"/>
    </Window.Effect>

    <Border Background="{StaticResource MacOSBackground}" CornerRadius="20" MouseDown="Border_MouseDown">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="260"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="120"/>
            </Grid.RowDefinitions>

            <!-- Sidebar -->
            <Border Background="{StaticResource MacOSCardBackground}" CornerRadius="20 0 0 20" Grid.RowSpan="2">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" Color="#20000000" Opacity="0.1" Direction="90"/>
                </Border.Effect>
                <StackPanel Margin="0 40 0 0">
                    <!-- Window Controls (macOS style) -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="20 0 0 30">
                        <Ellipse Fill="#FF5F57" Width="12" Height="12" Margin="0,0,8,0"/>
                        <Ellipse Fill="#FFBD2E" Width="12" Height="12" Margin="0,0,8,0"/>
                        <Ellipse Fill="#28CA42" Width="12" Height="12"/>
                    </StackPanel>

                    <TextBlock Text="LIBRARY" Style="{StaticResource MenuTitle}"/>

                    <Button Style="{StaticResource menuButton}" Click="SongsHome_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🎵" FontSize="18" Margin="0,0,12,0"/>
                            <TextBlock Text="Songs" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource menuButton}" Click="Playlist_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="❤️" FontSize="18" Margin="0,0,12,0"/>
                            <TextBlock Text="Playlist" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource menuButton}" Click="Searchee_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🔍" FontSize="18" Margin="0,0,12,0"/>
                            <TextBlock Text="Search" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <StackPanel Margin="20,20,20,0">
                        <Separator Background="{StaticResource MacOSBorder}"/>
                    </StackPanel>

                    <Button Style="{StaticResource menuButton}" Click="Exit_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🚪" FontSize="18" Margin="0,0,12,0"/>
                            <TextBlock Text="Exit" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource menuButton}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="⚙️" FontSize="18" Margin="0,0,12,0"/>
                            <TextBlock Text="Settings" VerticalAlignment="Center"/>
                        </StackPanel>
                        <Button.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Add Music" Click="AddMusic_Click"/>
                            </ContextMenu>
                        </Button.ContextMenu>
                    </Button>
                </StackPanel>
            </Border>

            <!-- Main Content Area -->
            <Frame Name="MainFrame" Grid.Column="1" NavigationUIVisibility="Hidden" 
                   Background="{StaticResource MacOSBackground}"/>

            <!-- Player Bar -->
            <Border Grid.Row="1" Grid.Column="1" Background="{StaticResource MacOSCardBackground}" 
                    CornerRadius="0 0 20 0" Margin="0,1,0,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="15" ShadowDepth="-5" Color="#20000000" Opacity="0.15"/>
                </Border.Effect>
                <Grid Margin="30,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Album Art -->
                    <Border Grid.Column="0" Width="80" Height="80" CornerRadius="14" Margin="0,0,20,0" 
                            VerticalAlignment="Center" ClipToBounds="True">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="12" ShadowDepth="2" 
                                              Color="#30000000" Opacity="0.4"/>
                        </Border.Effect>
                        <Border Background="{StaticResource MacOSCardBackground}" 
                                BorderBrush="{StaticResource MacOSBorder}" 
                                BorderThickness="1" CornerRadius="14">
                            <Border Name="Art" CornerRadius="13" ClipToBounds="True">
                                <Border.Background>
                                    <ImageBrush ImageSource="{Binding Art}" Stretch="UniformToFill"/>
                                </Border.Background>
                            </Border>
                        </Border>
                    </Border>

                    <!-- Track Info -->
                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,30,0">
                        <TextBlock Name="NameTrack" Text="No track selected" 
                                   Foreground="{StaticResource MacOSTextPrimary}" 
                                   FontSize="16" FontWeight="SemiBold" 
                                   FontFamily="Segoe UI" MaxWidth="300" TextTrimming="CharacterEllipsis"/>
                        <TextBlock Name="NameArtist" Text="Unknown Artist" 
                                   Foreground="{StaticResource MacOSTextSecondary}" 
                                   FontSize="14" FontFamily="Segoe UI" 
                                   MaxWidth="300" TextTrimming="CharacterEllipsis" Margin="0,4,0,0"/>
                    </StackPanel>

                    <!-- Controls -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" 
                                HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,40,0">
                        <Button Style="{StaticResource playerButton}" Click="PastTrack_Click" 
                                ToolTip="Previous Track">
                            <TextBlock Text="⏮" FontSize="20" FontWeight="Medium" 
                                      Foreground="{StaticResource MacOSTextPrimary}"/>
                        </Button>

                        <Button Style="{StaticResource playPauseButton}" Click="Stop_Start" 
                                ToolTip="Play/Pause">
                            <TextBlock Text="⏸" FontSize="26" Name="PlayPauseIcon" 
                                      Foreground="White" FontWeight="Medium"/>
                        </Button>

                        <Button Style="{StaticResource playerButton}" Click="NextTrack_Click" 
                                ToolTip="Next Track">
                            <TextBlock Text="⏭" FontSize="20" FontWeight="Medium" 
                                      Foreground="{StaticResource MacOSTextPrimary}"/>
                        </Button>
                    </StackPanel>

                    <!-- Progress and Volume -->
                    <StackPanel Grid.Column="4" Orientation="Horizontal" 
                                VerticalAlignment="Center" Margin="0,0,0,0">
                        <!-- Volume Control -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,30,0" VerticalAlignment="Center">
                            <TextBlock Text="🔊" FontSize="18" VerticalAlignment="Center" 
                                      Margin="0,0,12,0" Opacity="0.8"/>
                            <Slider Minimum="0" Maximum="1" ValueChanged="ValuePlayback" 
                                    Name="ValueSlider" Width="100" VerticalAlignment="Center"
                                    TickFrequency="0.1" IsSnapToTickEnabled="False"/>
                        </StackPanel>
                        
                        <!-- Progress Slider -->
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Name="CurrentTime" Text="0:00" 
                                      Foreground="{StaticResource MacOSTextPrimary}"
                                      FontSize="13" FontFamily="Segoe UI" FontWeight="Medium"
                                      VerticalAlignment="Center" Margin="0,0,12,0"
                                      MinWidth="45" TextAlignment="Right"/>
                            <Slider Minimum="0" Maximum="100" ValueChanged="MusicPlayeback" 
                                    Name="SliderMusic" Width="280" VerticalAlignment="Center"
                                    IsSnapToTickEnabled="False"/>
                            <TextBlock Name="TotalTime" Text="0:00" 
                                      Foreground="{StaticResource MacOSTextPrimary}"
                                      FontSize="13" FontFamily="Segoe UI" FontWeight="Medium"
                                      VerticalAlignment="Center" Margin="12,0,0,0"
                                      MinWidth="45"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
